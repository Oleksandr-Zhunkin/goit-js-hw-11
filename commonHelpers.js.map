{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function getPhotos(q) {\n  const BASE_URL = 'https://pixabay.com/api/';\n  const API_KEY = '44033528-44943d254def6182670dcc208';\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n  });\n\n  return fetch(`${BASE_URL}?${params}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n","function imageTemplate({\n  webformatURL,\n  largeImageURL,\n  tags,\n  likes,\n  views,\n  comments,\n  downloads,\n}) {\n  return `<li class=\"gallery\">\n      <a href=${largeImageURL}>\n        <img src=${webformatURL} alt=\"${tags}\" />\n        <div class=\"info\">\n        <div class=\"info-rating\">\n        <h3>Likes</h3>\n        <p>${likes}</p>\n        </div>\n        <div class=\"info-rating\">\n        <h3>Views</h3>\n        <p>${views}</p>\n        </div>\n        <div class=\"info-rating\">\n        <h3>Comments</h3>\n        <p>${comments}</p>\n        </div>\n        <div class=\"info-rating\">\n        <h3>Downloads</h3>\n        <p>${downloads}</p>\n        </div>\n        </div>\n        </a>\n    </li>`;\n}\n\nexport function imagesTemplate(images) {\n  return images.map(imageTemplate).join('');\n}\n","import { getPhotos } from './js/pixabay-api.js';\nimport { imagesTemplate } from './js/render-functions.js';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst formEl = document.querySelector('.js-form');\nconst galleryEl = document.querySelector('.js-gallery-list');\nconst loader = document.querySelector('.loader');\nconsole.log(loader);\n\nformEl.addEventListener('submit', onSubmit);\n\nfunction onSubmit(e) {\n  e.preventDefault();\n\n  const inputQuery = e.currentTarget.elements.search.value;\n  loader.classList.remove('visually-hidden');\n\n  getPhotos(inputQuery)\n    .then(response => {\n      if (response.hits.length === 0) {\n      }\n      galleryEl.innerHTML = imagesTemplate(response.hits);\n      refresh();\n      lightbox = new SimpleLightbox('.gallery a', {\n        /* options */\n      });\n    })\n    .catch(error => {\n      console.log(error);\n    })\n    .finally(() => loader.classList.add('visually-hidden'));\n\n  e.target.reset();\n}\n"],"names":["getPhotos","q","BASE_URL","API_KEY","params","response","imageTemplate","webformatURL","largeImageURL","tags","likes","views","comments","downloads","imagesTemplate","images","formEl","galleryEl","loader","onSubmit","e","inputQuery","SimpleLightbox","error"],"mappings":"svBAAO,SAASA,EAAUC,EAAG,CAC3B,MAAMC,EAAW,2BACXC,EAAU,qCACVC,EAAS,IAAI,gBAAgB,CACjC,IAAKD,EACL,EAAAF,EACA,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,EAED,OAAO,MAAM,GAAGC,CAAQ,IAAIE,CAAM,EAAE,EAAE,KAAKC,GAAY,CACrD,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,CCjBA,SAASC,EAAc,CACrB,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACF,EAAG,CACD,MAAO;AAAA,gBACOL,CAAa;AAAA,mBACVD,CAAY,SAASE,CAAI;AAAA;AAAA;AAAA;AAAA,aAI/BC,CAAK;AAAA;AAAA;AAAA;AAAA,aAILC,CAAK;AAAA;AAAA;AAAA;AAAA,aAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,aAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,UAKtB,CAEO,SAASC,EAAeC,EAAQ,CACrC,OAAOA,EAAO,IAAIT,CAAa,EAAE,KAAK,EAAE,CAC1C,CC/BA,MAAMU,EAAS,SAAS,cAAc,UAAU,EAC1CC,EAAY,SAAS,cAAc,kBAAkB,EACrDC,EAAS,SAAS,cAAc,SAAS,EAC/C,QAAQ,IAAIA,CAAM,EAElBF,EAAO,iBAAiB,SAAUG,CAAQ,EAE1C,SAASA,EAASC,EAAG,CACnBA,EAAE,eAAc,EAEhB,MAAMC,EAAaD,EAAE,cAAc,SAAS,OAAO,MACnDF,EAAO,UAAU,OAAO,iBAAiB,EAEzClB,EAAUqB,CAAU,EACjB,KAAKhB,GAAY,CACZA,EAAS,KAAK,OAElBY,EAAU,UAAYH,EAAeT,EAAS,IAAI,EAClD,UACA,SAAW,IAAIiB,EAAe,aAAc,CAElD,CAAO,CACP,CAAK,EACA,MAAMC,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,EACA,QAAQ,IAAML,EAAO,UAAU,IAAI,iBAAiB,CAAC,EAExDE,EAAE,OAAO,OACX"}